(function(e){function t(t){for(var s,o,a=t[0],c=t[1],u=t[2],p=0,d=[];p<a.length;p++)o=a[p],r[o]&&d.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},r={app:0},i=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01e9":function(e,t,n){"use strict";var s=n("bee0"),r=n.n(s);r.a},"0302":function(e,t,n){"use strict";var s=n("55e9"),r=n.n(s);r.a},"034f":function(e,t,n){"use strict";var s=n("64a9"),r=n.n(s);r.a},"057c":function(e,t,n){"use strict";var s=n("93a9"),r=n.n(s);r.a},"065e":function(e,t,n){"use strict";var s=n("fe4e"),r=n.n(s);r.a},"0a9c":function(e,t,n){},"0b0e":function(e,t,n){"use strict";var s=n("133e"),r=n.n(s);r.a},1:function(e,t){},"133e":function(e,t,n){},"13ed":function(e,t,n){},"18e6":function(e,t,n){"use strict";var s=n("2769"),r=n.n(s);r.a},"1b28":function(e,t,n){"use strict";var s=n("3073"),r=n.n(s);r.a},"1e7f":function(e,t,n){"use strict";var s=n("9f2e"),r=n.n(s);r.a},"23ba":function(e,t,n){},2616:function(e,t,n){},2769:function(e,t,n){},"27d2":function(e,t,n){},"2bd4":function(e,t,n){"use strict";var s=n("e096"),r=n.n(s);r.a},"2ceb":function(e,t,n){"use strict";var s=n("6964"),r=n.n(s);r.a},3073:function(e,t,n){},"3a70":function(e,t,n){"use strict";var s=n("0a9c"),r=n.n(s);r.a},"3ba9":function(e,t,n){"use strict";var s=n("23ba"),r=n.n(s);r.a},"3c08":function(e,t,n){},4433:function(e,t,n){},4678:function(e,t,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){var t=s[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="4678"},"55e6":function(e,t,n){"use strict";var s=n("fa01"),r=n.n(s);r.a},"55e9":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-header"),n("router-view",{staticClass:"router"}),n("app-chat")],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[e.loggedInUser?n("main",[n("div",{staticClass:"wrapper"},[n("i",{staticClass:"fab fa-facebook-square logo",on:{click:function(t){return e.$router.push("/")}}}),n("app-search")],1),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"link-container",on:{click:function(t){return e.$router.push("/user/"+e.loggedInUser._id)}}},[n("img",{attrs:{src:e.loggedInUser.url.profileImg}}),e._v("\n        "+e._s(e.loggedInUser.username)+"\n      ")]),n("div",{staticClass:"sep"}),n("span",{staticClass:"link-container",on:{click:function(t){return e.$router.push("/")}}},[e._v("Home")]),n("div",{staticClass:"sep"}),n("app-updates"),n("div",{staticClass:"sep"}),n("app-register")],1)]):n("main",[n("img",{staticClass:"literal-logo",attrs:{src:"https://www.facebook.com/rsrc.php/v3/y4/r/gf6iHxsw8zm.png",alt:""}}),n("app-register")],1)])},a=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[e.user?n("i",{staticClass:"fas fa-sign-out-alt header-icon",attrs:{title:"logout"},on:{click:e.logout}}):n("div",{staticClass:"app-register"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.credentials.email},on:{input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}}),n("button",{on:{click:e.login}},[e._v("Log In")]),n("button",{on:{click:e.signup}},[e._v("Sign Up")])])])},u=[],l={data:function(){return{credentials:{email:"",password:""}}},computed:{user:function(){return this.$store.getters.loggedInUser}},methods:{login:function(){this.$store.dispatch({type:"login",credentials:this.credentials}),this.credentials={email:"",password:""}},signup:function(){this.credentials.username=prompt("username is?"),this.credentials.url={},this.credentials.url.profileImg="https://api.adorable.io/avatars/212/".concat(this.credentials.username,".png"),this.$store.dispatch({type:"signup",credentials:this.credentials})},logout:function(){this.$store.dispatch({type:"logout"})}}},p=l,d=(n("2bd4"),n("2877")),f=Object(d["a"])(p,c,u,!1,null,"89e0fa86",null),m=f.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-updates"},[n("friend-request"),n("app-msg"),n("app-notification")],1)},g=[],v=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("i",{staticClass:"fab fa-facebook-messenger header-icon"})])}],_={},w=_,y=Object(d["a"])(w,v,b,!1,null,"457f6d18",null),j=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.toggleWindow}},[n("i",{staticClass:"fas fa-bell header-icon",class:e.classObj}),n("unseen-count",{attrs:{unseen:e.unseen}}),e.isWindow?n("updates-window",[n("span",{attrs:{slot:"top"},slot:"top"},[e._v("Notificatios")]),n("span",{attrs:{slot:"content"},slot:"content"},e._l(e.notifications,function(e){return n("notification-preview",{attrs:{notification:e}})}),1)]):e._e()],1)},k=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.unseen.length?n("span",[e._v(e._s(e.unseen.length))]):e._e()},x=[],$={props:["unseen"]},U=$,O=(n("1b28"),Object(d["a"])(U,I,x,!1,null,"879fcd4a",null)),P=O.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"updates-window floating-box"},[n("div",{staticClass:"top"},[e._t("top")],2),n("div",{staticClass:"content-container"},[e._t("content",[e._v("Lorem ipsum dolor sit amet consectetur, adipisicing elit. Laborum corrupti neque recusandae beatae optio, libero saepe nam voluptatem! Saepe laboriosam optio nihil consequuntur distinctio quo quia, eius tempore fuga porro.")])],2)])},S=[],L={},E=L,B=(n("ae34"),Object(d["a"])(E,R,S,!1,null,"6c8790eb",null)),F=B.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-preview",on:{click:e.readPost}},[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.notification.imgUrl,alt:""}})]),n("div",{domProps:{innerHTML:e._s(e.notification.txt)}})])},q=[],N={props:["notification"],methods:{readPost:function(){this.$router.push("/post/".concat(this.notification.postId))}}},z=N,T=(n("5d6a"),Object(d["a"])(z,A,q,!1,null,"4d9ac97c",null)),D=T.exports,M={components:{UnseenCount:P,UpdatesWindow:F,NotificationPreview:D},data:function(){return{isWindow:!1}},computed:{notifications:function(){return this.$store.getters.notifications},unseen:function(){return this.$store.getters.unSeenNotifications},classObj:function(){return{unseen:this.unseen.length}}},methods:{toggleWindow:function(){this.isWindow=!this.isWindow,this.$store.dispatch({type:"setAllSeen"})}},created:function(){this.$store.dispatch({type:"loadNotifications"})}},W=M,G=(n("ae65"),Object(d["a"])(W,C,k,!1,null,"7f05dca0",null)),H=G.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"friendship-request",on:{click:e.toggleWindow}},[n("i",{staticClass:"fas fa-user-friends header-icon",class:e.classObj}),n("unseen-count",{attrs:{unseen:e.unseen}}),e.isWindow?n("updates-window",[n("span",{attrs:{slot:"top"},slot:"top"},[e._v("Friend Requests")]),n("span",{attrs:{slot:"content"},slot:"content"},e._l(e.requestingUsers,function(e){return n("request-preview",{key:e._id,attrs:{user:e}})}),1)]):e._e()],1)},K=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"request-preview"},[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.user.url.profileImg,alt:""}}),n("a",{staticClass:"username"},[e._v(e._s(e.user.username))])]),n("div",[n("button",{staticClass:"confirm",on:{click:e.confirmFriendship}},[e._v("Confirm")]),n("button",{staticClass:"delete"},[e._v("Delete")])])])},Y=[],Q={props:["user"],methods:{confirmFriendship:function(){this.user.friendship.isApproved=!0,this.$store.dispatch({type:"saveFriendship",friendship:this.user.friendship})}}},X=Q,Z=(n("87aa"),Object(d["a"])(X,V,Y,!1,null,"c29f6aae",null)),ee=Z.exports,te={components:{UpdatesWindow:F,unseenCount:P,RequestPreview:ee},data:function(){return{isWindow:!1}},computed:{unseen:function(){return this.$store.getters.requestingUsers.filter(function(e){return!e.isSeen})},requestingUsers:function(){return console.log("requestingUsers",this.$store.getters.requestingUsers),this.$store.getters.requestingUsers},classObj:function(){return{unseen:this.unseen.length}}},methods:{toggleWindow:function(){this.isWindow=!this.isWindow}},created:function(){}},ne=te,se=(n("d5a1"),Object(d["a"])(ne,J,K,!1,null,"43fd9345",null)),re=se.exports,ie={components:{AppMsg:j,AppNotification:H,FriendRequest:re}},oe=ie,ae=(n("8674"),Object(d["a"])(oe,h,g,!1,null,"2ae8b072",null)),ce=ae.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-container"},[n("div",{staticStyle:{position:"relative"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.filterBy.txt},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)},e.onInput]}}),e.isLoading?n("my-loader",{staticClass:"loader"}):e._e()],1),n("div",{staticClass:"result-list",on:{click:e.clearInput}},e._l(e.users,function(t){return e.filterBy.txt?n("user-preview",{attrs:{user:t}}):e._e()}),1)])},le=[],pe=(n("96cf"),n("3b8d")),de=n("8c4f"),fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("section",{staticClass:"user-profile"},[n("user-details",{staticClass:"user-details",attrs:{user:e.user}}),n("section",{staticClass:"flex"},[n("app-post",{staticClass:"app-post"}),n("aside",[n("user-friends",{attrs:{friends:e.user.friends}}),n("friend-suggest",{staticClass:"friend-suggest"})],1)],1)],1):e._e()},me=[],he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-post"},[n("add-post"),n("post-list")],1)},ge=[],ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.user&&e.post?s("div",{staticClass:"add-post floating-box",class:e.classObj},[s("header",[e._v("Create Post")]),"gradient"!==e.post.type?s("main",[s("div",{staticClass:"profile-image-container-thumb"},[s("img",{attrs:{src:e.user.url.profileImg,alt:""}})]),s("section",{staticStyle:{"flex-grow":"1"}},[s("div",{ref:"contenteditable",staticClass:"input-container",attrs:{contenteditable:"",placeholder:e.placeholder},on:{input:e.onInput}})]),s("div",{staticClass:"realtive-wrapper"},[s("content-preview",{attrs:{type:e.post.type,content:e.post.content,post:e.post}}),e.isLoadingContentPreview?s("my-loader"):e._e()],1)]):s("div",{ref:"contenteditable",staticClass:"gradient",class:e.post.gradientClass,attrs:{placeholder:e.placeholder,contenteditable:""},on:{input:e.onInput}}),s("footer",[s("div",{staticClass:"main"},[s("upload-image",{ref:"imageInput",staticStyle:{display:"none"},on:{setImageUrl:e.setImageUrl}}),s("div",{staticClass:"post-type-container"},[s("div",{staticClass:"post-type",on:{click:e.clickImageInput}},[s("img",{attrs:{src:n("e429"),alt:""}}),e._v("\n            Photo\n          ")])]),s("div",{staticClass:"gradient-container"},[s("div",{staticClass:"regular",on:{click:e.clearType}}),s("div",{staticClass:"purple",on:{click:function(t){return e.setGradient("purple")}}}),s("div",{staticClass:"party-small",on:{click:function(t){return e.setGradient("party")}}}),s("div",{staticClass:"poop-small",on:{click:function(t){return e.setGradient("poop")}}}),s("div",{staticClass:"fire-small",on:{click:function(t){return e.setGradient("fire")}}}),s("div",{staticClass:"smiley-small",on:{click:function(t){return e.setGradient("smiley")}}})]),s("button",{on:{click:e.addPost}},[s("i",{staticClass:"fas fa-globe-americas"}),e._v(" Publish\n        ")])],1)])]):e._e()])},be=[],_e=(n("4be7"),{save:je,query:Ue,toggleLike:ke,saveComment:xe,getById:we});function we(e){return ye.apply(this,arguments)}function ye(){return ye=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.get("api/post/".concat(t)));case 1:case"end":return e.stop()}},e)})),ye.apply(this,arguments)}function je(e){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ss.post("api/post",t);case 2:return n=e.sent,console.log("service:",n),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)})),Ce.apply(this,arguments)}function ke(e){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.userId,s=t.postId,e.next=3,Ss.post("api/post/like",{userId:n,postId:s});case 3:console.log("like toggled");case 4:case"end":return e.stop()}},e)})),Ie.apply(this,arguments)}function xe(e){return $e.apply(this,arguments)}function $e(){return $e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ss.post("api/post/comment",t);case 2:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),$e.apply(this,arguments)}function Ue(e){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ss.get("api/post",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),Oe.apply(this,arguments)}var Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.type?n("section",{staticClass:"content-preview"},[n(e.component,{tag:"component",attrs:{content:e.content,post:e.post}})],1):e._e()},Re=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"img-container"},[n("img",{attrs:{src:e.content}})])},Le=[],Ee={props:["content"]},Be=Ee,Fe=(n("1e7f"),Object(d["a"])(Be,Se,Le,!1,null,"597c009c",null)),Ae=Fe.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{ref:"contenteditable",staticClass:"gradient gradient-preview",class:e.post.gradientClass},[e._v(e._s(e.post.txt))])])},Ne=[],ze={props:["post"],methods:{setContent:function(){this.$parent.$emit("setGradientTxt",this.$refs.contenteditable.innerText)}}},Te=ze,De=Object(d["a"])(Te,qe,Ne,!1,null,"3a0eff6a",null),Me=De.exports,We={props:["type","content","post"],components:{ImagePreview:Ae,GradientPreview:Me},computed:{component:function(){return this.type+"-preview"}}},Ge=We,He=(n("18e6"),Object(d["a"])(Ge,Pe,Re,!1,null,"22fa1312",null)),Je=He.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"file",name:"",id:""},on:{change:e.imageChanged}})},Ve=[],Ye={uploadImage:Qe};function Qe(e){var t="benpinchas1",n="https://api.cloudinary.com/v1_1/".concat(t,"/image/upload"),s=new FormData;return s.append("file",e.target.files[0]),s.append("upload_preset","hj7a9uwm"),fetch(n,{method:"POST",body:s}).then(function(e){return e.json()}).then(function(e){return e.secure_url}).catch(function(e){throw console.error(e),e})}var Xe={methods:{imageChanged:function(e){console.log(e);var t=Ye.uploadImage(e);this.$emit("setImageUrl",t)}}},Ze=Xe,et=Object(d["a"])(Ze,Ke,Ve,!1,null,"870240a8",null),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("img",{staticClass:"loader",attrs:{src:"https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/3Wf1AkaVBVk.gif",alt:""}})},st=[],rt={},it=rt,ot=(n("01e9"),Object(d["a"])(it,nt,st,!1,null,"79e89c6c",null)),at=ot.exports,ct={components:{ContentPreview:Je,UploadImage:tt,MyLoader:at},data:function(){return{isLoadingPublishPost:!1,isLoadingContentPreview:!1,post:null}},computed:{user:function(){return this.$store.getters.loggedInUser||{}},placeholder:function(){return this.$store.getters.loggedInUser?"What's on your mind, "+this.$store.getters.loggedInUser.username+"?":null},classObj:function(){return{loading:this.isLoadingPublishPost}}},methods:{addPost:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingPublishPost=!0,e.next=3,this.$store.dispatch({type:"addPost",post:this.post});case 3:this.clearPost(),this.isLoadingPublishPost=!1;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clearPost:function(){this.$refs.contenteditable&&(this.$refs.contenteditable.innerText=""),this.post={at:Date.now(),userId:this.$store.getters.loggedInUser._id,user2Id:this.$route.params.userId||this.$store.getters.loggedInUser._id,txt:"",type:"",content:"",gradientClass:"a",comments:[],likedBy:[]},console.log(this.post)},onInput:function(){this.post.txt=this.$refs.contenteditable.innerText},setGradient:function(e){this.post.type="gradient",this.post.gradientClass=e},clearType:function(){this.post.type=""},clickImageInput:function(){this.$refs.imageInput.$el.click()},setImageUrl:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingContentPreview=!0,e.prev=1,this.post.type="image",e.next=5,t;case 5:this.post.content=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:return e.prev=11,this.isLoadingContentPreview=!1,e.finish(11);case 14:console.log(this.post.content);case 15:case"end":return e.stop()}},e,this,[[1,8,11,14]])}));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){this.clearPost()},watch:{"$route.params.userId":function(){console.log(this.$route.params.userId),this.clearPost()}}},ut=ct,lt=(n("6a17"),Object(d["a"])(ut,ve,be,!1,null,"44734335",null)),pt=lt.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"post-list"},e._l(e.posts,function(t){return n("post-preview",{key:t._id,attrs:{post:t}},[e._v(e._s(t._id))])}),1)},ft=[],mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"post-preview floating-box"},[n("main",[n("header",[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.user.url.profileImg,alt:""}})]),n("div",{staticClass:"info-container",staticStyle:{"padding-top":"3px"}},[n("div",{staticStyle:{"margin-bottom":"5px"}},[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toUserProfile(t)}}},[e._v(e._s(e._f("fUsername")(e.user.username)))]),e.post.userId!==e.post.user2Id?n("span",[e._v("\n             ▸ \n            "),n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$router.push("/user/"+e.post.user2Id)}}},[e._v(e._s(e._f("fUsername")(e.post.user2.username)))])]):e._e()]),n("div",{staticClass:"time-container"},[n("span",{staticClass:"time",on:{click:function(t){return e.$router.push("/post/"+e.post._id)}}},[e._v(e._s(e._f("timeAgo")(e.post.at)))]),e._v("\n          ·\n          "),n("i",{staticClass:"fas fa-globe-americas"})])])]),"gradient"!==e.post.type?n("div",{staticStyle:{"font-size":"15px","margin-bottom":"12px"},domProps:{innerHTML:e._s(e.post.txt)}}):e._e()]),n("content-preview",{attrs:{type:e.post.type,content:e.post.content,post:e.post}}),n("footer",[n("div",{staticClass:"stats-container"},[n("p",{staticClass:"like-count"},[e.post.likedBy.length?n("span",[e._v(e._s(e.post.likedBy.length)+" Likes")]):e._e()]),n("p",{staticClass:"comment-count",on:{click:e.toggleComments}},[e.post.comments.length?n("span",[e._v(e._s(e.post.comments.length)+" Comments")]):e._e()])]),n("interactions-btns",{attrs:{isLiked:e.isLiked},on:{toggleLike:e.toggleLike,toggleComments:e.toggleComments}})],1),e.showComments?n("post-comments",{attrs:{comments:e.post.comments},on:{addComment:e.addComment}}):e._e()],1):e._e()},ht=[],gt=(n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"interactions-btns"},[n("button",{class:e.likeBtnClass,on:{click:e.toggleLike}},[n("i",{staticClass:"far fa-thumbs-up"}),e._v(" Like\n  ")]),n("button",{on:{click:e.toggleComments}},[n("i",{staticClass:"far fa-comment"}),e._v(" Comment\n  ")]),e._m(0)])}),vt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",[n("i",{staticClass:"fas fa-share"}),e._v(" Share\n  ")])}],bt=n("5118"),_t={props:["isLiked"],computed:{likeBtnClass:function(){return{liked:this.isLiked}}},methods:{toggleLike:function(){this.$emit("toggleLike")},toggleComments:function(){this.$emit("toggleComments")}}},wt=_t,yt=(n("b440"),Object(d["a"])(wt,gt,vt,!1,null,"fbd28626",null)),jt=yt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"post-comment"},[n("add-comment",{on:{addComment:e.addComment}}),n("comment-list",{attrs:{comments:e.comments}})],1)},kt=[],It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loggedInUser?n("div",{staticClass:"add-comment"},[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.loggedInUser.url.profileImg,alt:""}})]),n("div",{staticClass:"realtive"}),n("div",{ref:"contenteditable",staticClass:"comment-container",attrs:{placeholder:"Write a comment...",contenteditable:""}}),n("button",{on:{click:e.addComment}},[n("i",{staticClass:"far fa-paper-plane"})])]):e._e()},xt=[],$t={computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},mounted:function(){this.$refs.contenteditable.focus()},methods:{addComment:function(){this.$emit("addComment",this.$refs.contenteditable.innerText),this.$refs.contenteditable.innerText=""}}},Ut=$t,Ot=(n("2ceb"),Object(d["a"])(Ut,It,xt,!1,null,"6d9e4d94",null)),Pt=Ot.exports,Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-list"},e._l(e.comments,function(e){return n("comment-preview",{attrs:{comment:e}})}),1)},St=[],Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-preview"},[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.comment.owner.profileImg,alt:""}})]),n("div",[n("div",{staticClass:"comment-container"},[n("div",{staticClass:"name-container",staticStyle:{"margin-bottom":"3px"}},[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.readUser(t)}}},[e._v(e._s(e._f("fUsername")(e.comment.owner.username)))])]),n("div",{staticStyle:{padding:"2px"}},[e._v(e._s(e.comment.txt))]),e.likesCount?n("like-count",{attrs:{likesCount:e.likesCount}}):e._e()],1),n("div",{staticClass:"actions-container"},[n("a",{class:e.likeClassObj,on:{click:e.toggleLike}},[e._v("Like")]),e._v("  ·  "+e._s(e._f("timeAgo")(e.comment.at))+"\n    ")])])])},Et=[],Bt=(n("8e6e"),n("ac6a"),n("456d"),n("20d6"),n("bd86")),Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"like-count"},[e._m(0),n("span",{staticClass:"count"},[e._v(e._s(e.likesCount))])])},At=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"img-container"},[s("img",{attrs:{src:n("8e44"),alt:""}})])}],qt={props:["likesCount"]},Nt=qt,zt=(n("0302"),Object(d["a"])(Nt,Ft,At,!1,null,"0d148901",null)),Tt=zt.exports;function Dt(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(n,!0).forEach(function(t){Object(Bt["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wt={props:["comment"],components:{LikeCount:Tt},computed:{likesCount:function(){return this.comment.likedBy.length},likeClassObj:function(){var e=this;return{liked:this.comment.likedBy.find(function(t){return t.userId===e.$store.getters.loggedInUser._id})}}},methods:{readUser:function(){this.$router.push("/user/".concat(this.comment.owner.userId))},toggleLike:function(){var e=this,t=Mt({},this.comment),n=t.likedBy.findIndex(function(t){return t.userId===e.$store.getters.loggedInUser._id});n>=0?t.likedBy.splice(n,1):t.likedBy.push({userId:this.$store.getters.loggedInUser._id,username:this.$store.getters.loggedInUser.username}),this.$store.dispatch({type:"saveComment",comment:t})}}},Gt=Wt,Ht=(n("8234"),Object(d["a"])(Gt,Lt,Et,!1,null,"19d3330c",null)),Jt=Ht.exports,Kt={props:["comments"],components:{CommentPreview:Jt}},Vt=Kt,Yt=(n("6b41"),Object(d["a"])(Vt,Rt,St,!1,null,"703da9d7",null)),Qt=Yt.exports,Xt={props:["comments"],components:{AddComment:Pt,CommentList:Qt},methods:{addComment:function(e){this.$emit("addComment",e)}}},Zt=Xt,en=(n("8dc8"),Object(d["a"])(Zt,Ct,kt,!1,null,"1d7fb313",null)),tn=en.exports,nn={props:["post"],components:{InteractionsBtns:jt,PostComments:tn,ContentPreview:Je},data:function(){return{showComments:!1}},computed:{user:function(){return this.post.user},isLiked:function(){var e=this;return!!this.$store.getters.loggedInUser&&this.post.likedBy.find(function(t){return t.userId===e.$store.getters.loggedInUser._id})}},methods:{toggleComments:function(){this.showComments=!this.showComments},toggleLike:function(){this.$store.dispatch({type:"toggleLike",userId:this.$store.getters.loggedInUser._id,postId:this.post._id})},addComment:function(e){var t={at:Date.now(),_id:Math.random()+"",postId:this.post._id,txt:e,owner:{userId:this.$store.getters.loggedInUser._id,username:this.$store.getters.loggedInUser.username,profileImg:this.$store.getters.loggedInUser.url.profileImg},likedBy:[]};this.$store.dispatch({type:"saveComment",comment:t})},toUserProfile:function(){this.$router.push("/user/".concat(this.post.user._id))}}},sn=nn,rn=(n("831c"),Object(d["a"])(sn,mt,ht,!1,null,"b043fbbc",null)),on=rn.exports,an={components:{PostPreview:on},computed:{posts:function(){return this.$store.getters.posts}},methods:{loadPosts:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.userId,e.next=3,this.$store.dispatch({type:"loadPosts",filterBy:{userId:t}});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.loadPosts()},watch:{"$route.params.userId":function(){this.loadPosts()}}},cn=an,un=(n("a2ae"),Object(d["a"])(cn,dt,ft,!1,null,"e7f7a0e0",null)),ln=un.exports,pn={components:{AddPost:pt,PostList:ln}},dn=pn,fn=Object(d["a"])(dn,he,ge,!1,null,"4d946fad",null),mn=fn.exports,hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("side-box",[n("span",{attrs:{slot:"headline"},slot:"headline"},[e._v("People You May Know")]),n("span",{attrs:{slot:"main"},slot:"main"},e._l(e.suggests,function(e){return n("suggest-preview",{attrs:{user:e}})}),1)])],1)},gn=[],vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root-el floating-box"},[n("header",[n("span",{staticClass:"system-txt"},[e._t("headline",[e._v("Default headline")])],2)]),n("main",[e._t("main",[e._v("Default main")])],2)])},bn=[],_n={},wn=_n,yn=(n("bfc3"),Object(d["a"])(wn,vn,bn,!1,null,null,null)),jn=yn.exports,Cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",{staticClass:"g-user-snippet-container-small"},[n("div",{staticClass:"g-profile-image-container-thumb-small"},[n("img",{attrs:{src:e.user.url?e.user.url.profileImg:null}})]),n("div",{staticClass:"secondary-container"},[n("div",{staticStyle:{"margin-bottom":"3px"},on:{click:function(t){return t.preventDefault(),e.readUser(t)}}},[n("a",{attrs:{href:""}},[e._v(e._s(e.user.username))])]),n("div",{staticClass:"btns-container"},[n("friendship-btn",{staticClass:"friendship-btn",attrs:{user:e.user}})],1)])])])},kn=[],In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["add"===e.type?n("button",{on:{click:e.addFriendship}},[n("i",{staticClass:"fas fa-user-plus"}),e._v(" Add Friend\n  ")]):e._e(),"approved"===e.type?n("button",{attrs:{disabled:""}},[n("i",{staticClass:"fas fa-check"}),e._v(" Friends\n  ")]):e._e(),"confirm"===e.type?n("button",{on:{click:e.approveFriendship}},[n("i",{staticClass:"fas fa-user-plus"}),e._v(" Confirm\n  ")]):e._e(),"sent"===e.type?n("button",{attrs:{disabled:""}},[n("i",{staticClass:"fas fa-share"}),e._v(" Friend Request Sent\n  ")]):e._e()])},xn=[],$n={props:["user"],data:function(){return{}},computed:{type:function(){return this.$store.getters.loggedInUser&&this.user._id!==this.$store.getters.loggedInUser._id?this.user.friendship?this.user.friendship.isApproved?"approved":this.user.friendship.user1Id===this.user._id?"confirm":"sent":"add":null}},methods:{addFriendship:function(){var e={user1Id:this.$store.getters.loggedInUser._id,user2Id:this.user._id,at:Date.now(),isApproved:!1,isSeen:!1,msg:[{txt:"hello"},{txt:"shalom"}]};this.user.friendship=e,this.$store.dispatch({type:"saveFriendship",friendship:e}),console.log("OK")},approveFriendship:function(){this.user.friendship.isApproved=!0,this.$store.dispatch({type:"saveFriendship",friendship:this.user.friendship})}},mounted:function(){console.log("USER:",this.user)}},Un=$n,On=(n("dc14"),Object(d["a"])(Un,In,xn,!1,null,"4a2da10a",null)),Pn=On.exports,Rn={props:["user"],components:{FriendshipBtn:Pn},data:function(){return{}},methods:{readUser:function(){this.$router.push("/user/".concat(this.user._id))}}},Sn=Rn,Ln=(n("55e6"),Object(d["a"])(Sn,Cn,kn,!1,null,"0117629d",null)),En=Ln.exports,Bn={components:{SideBox:jn,SuggestPreview:En},computed:{suggests:function(){return console.log(" this.$store.getters.suggests",this.$store.getters.suggests),this.$store.getters.suggests}},created:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch({type:"loadSuggests"}),this.$store.dispatch({type:"loadFriendshipUsers"});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Fn=Bn,An=(n("96f0"),Object(d["a"])(Fn,hn,gn,!1,null,null,null)),qn=An.exports,Nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("section",{staticClass:"user-profile"},[e.user?n("div",{staticClass:"main"},[n("div",{staticClass:"cover-img-container",style:{"background-image":"url("+e.user.url.coverImg+")"}},[e.isLoadCoverImg?n("my-loader"):e._e(),e.canEdit?n("upload-image",{staticClass:"custom-file-input cover-img-input",on:{setImageUrl:e.setCoverImage}}):e._e()],1),n("div",{staticClass:"profile-img-container"},[n("div",{staticStyle:{position:"relative"}},[n("img",{staticClass:"profile-img",attrs:{src:e.user.url.profileImg,alt:""}}),e.canEdit?n("upload-image",{staticClass:"custom-file-input profile-img-input",on:{setImageUrl:e.setProfileImage}}):e._e(),e.isLoadProfileImg?n("my-loader"):e._e()],1),n("h1",{staticClass:"username"},[e._v(e._s(e._f("fUsername")(e.user.username)))])]),n("div",{staticClass:"btns-container"},[n("friendship-button",{attrs:{user:e.user}}),e._m(0)],1)]):e._e()]):e._e()},zn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",[n("i",{staticClass:"fab fa-facebook-messenger"}),e._v(" Message\n      ")])}],Tn={components:{UploadImage:tt,MyLoader:at,FriendshipButton:Pn},props:["user"],data:function(){return{isLoadProfileImg:!1,isLoadCoverImg:!1}},computed:{isShow:function(){return this.$route.params.userId},friendshipStatus:function(){var e=this,t=this.$store.getters.friendships.find(function(t){return t.user1.userId===e.user._id||t.user2.userId===e.user._id});return t?t.isApproved?"approved":t.user2.userId===this.user._id?"Sent":"You need to confirm":"not friends"},canEdit:function(){return!!this.$store.getters.loggedInUser&&this.user._id===this.$store.getters.loggedInUser._id}},methods:{setProfileImage:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadProfileImg=!0,n=this.user.url.profileImg,e.prev=2,e.next=5,t;case 5:return s=e.sent,this.user.url.profileImg=s,e.next=9,this.$store.dispatch({type:"saveUser",user:this.user});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.user.url.profileImg=n;case 14:return e.prev=14,this.isLoadProfileImg=!1,e.finish(14);case 17:case"end":return e.stop()}},e,this,[[2,11,14,17]])}));function t(t){return e.apply(this,arguments)}return t}(),setCoverImage:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadCoverImg=!0,n=this.user.url.coverImg,e.prev=2,e.next=5,t;case 5:return s=e.sent,this.user.url.coverImg=s,e.next=9,this.$store.dispatch({type:"saveUser",user:this.user});case 9:console.log("user saved"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),this.user.url.coverImg=n;case 15:return e.prev=15,this.isLoadCoverImg=!1,e.finish(15);case 18:case"end":return e.stop()}},e,this,[[2,12,15,18]])}));function t(t){return e.apply(this,arguments)}return t}()}},Dn=Tn,Mn=(n("8901"),Object(d["a"])(Dn,Nn,zn,!1,null,"ff709bd8",null)),Wn=Mn.exports,Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("side-box",[n("span",{attrs:{slot:"headline"},slot:"headline"},[e._v("Friends  · "+e._s(e.friends.length))]),n("div",{staticClass:"user-list",attrs:{slot:"main"},slot:"main"},e._l(e.friends,function(e){return n("user-preview",{attrs:{user:e}})}),1)])},Hn=[],Jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-preview",style:{"background-image":"url("+e.user.url.profileImg+")"},on:{click:e.readUser}},[n("div",{staticClass:"overlay"},[n("span",{staticClass:"username"},[e._v(e._s(e._f("fUsername")(e.user.username)))])])])},Kn=[],Vn={props:["user"],methods:{readUser:function(){this.$router.push("/user/".concat(this.user._id))}}},Yn=Vn,Qn=(n("0b0e"),Object(d["a"])(Yn,Jn,Kn,!1,null,"021e0508",null)),Xn=Qn.exports,Zn={components:{SideBox:jn,UserPreview:Xn},props:["friends"]},es=Zn,ts=(n("e91b"),Object(d["a"])(es,Gn,Hn,!1,null,"467dc50a",null)),ns=ts.exports,ss={components:{AppPost:mn,FriendSuggest:qn,UserDetails:Wn,UserFriends:ns},data:function(){return{user:null}},methods:{loadUser:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$route.params.userId){e.next=6;break}return e.next=3,Ls.getById(this.$route.params.userId);case 3:t=e.sent,this.user=t,window.scrollTo(0,0);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.loadUser()},watch:{"$route.params.userId":function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.loadUser();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},rs=ss,is=(n("057c"),Object(d["a"])(rs,fe,me,!1,null,"d53103e8",null)),os=is.exports,as=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"home-page"},[n("aside",{staticClass:"left"}),n("main",[n("router-view",{staticClass:"router"}),n("friend-suggest",{staticClass:"friend-suggest"})],1),n("aside")])},cs=[],us={components:{AppPost:mn,FriendSuggest:qn}},ls=us,ps=(n("3ba9"),Object(d["a"])(ls,as,cs,!1,null,"1f86340e",null)),ds=ps.exports,fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("app-post",{staticClass:"app-post"})],1)},ms=[],hs={components:{AppPost:mn}},gs=hs,vs=(n("755c"),Object(d["a"])(gs,fs,ms,!1,null,"791b3305",null)),bs=vs.exports,_s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.post?n("div",{staticClass:"post-preview floating-box"},[n("main",[n("header",[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.user.url.profileImg,alt:""}})]),n("div",{staticClass:"info-container",staticStyle:{"padding-top":"3px"}},[n("div",{staticStyle:{"margin-bottom":"5px"}},[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toUserProfile(t)}}},[e._v(e._s(e.user.username))]),e.post.userId!==e.post.user2Id?n("span",[e._v("\n             ▸ \n            "),n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$router.push("/user/"+e.post.user2Id)}}},[e._v(e._s(e._f("fUsername")(e.post.user2.username)))])]):e._e()]),n("div",{staticClass:"time-container"},[n("span",{staticClass:"time",on:{click:function(t){return e.$router.push("/post/"+e.post._id)}}},[e._v("40 min ago")]),e._v("\n          ·\n          "),n("i",{staticClass:"fas fa-globe-americas"})])])]),"gradient"!==e.post.type?n("div",{staticStyle:{"font-size":"15px","margin-bottom":"12px"},domProps:{innerHTML:e._s(e.post.txt)}}):e._e()]),n("content-preview",{attrs:{type:e.post.type,content:e.post.content,post:e.post}}),n("footer",[n("div",{staticClass:"stats-container"},[n("p",{staticClass:"like-count"},[e.post.likedBy.length?n("span",[e._v(e._s(e.post.likedBy.length)+" Likes")]):e._e()]),n("p",{staticClass:"comment-count",on:{click:e.toggleComments}},[e.post.comments.length?n("span",[e._v(e._s(e.post.comments.length)+" Comments")]):e._e()])]),n("interactions-btns",{attrs:{isLiked:e.isLiked},on:{toggleLike:e.toggleLike,toggleComments:e.toggleComments}})],1),e.showComments?n("post-comments",{attrs:{comments:e.post.comments},on:{addComment:e.addComment}}):e._e()],1):e._e()},ws=[],ys={components:{InteractionsBtns:jt,PostComments:tn,ContentPreview:Je},data:function(){return{showComments:!0,post:null}},computed:{user:function(){return this.post.user},isLiked:function(){var e=this;return!!this.$store.getters.loggedInUser&&this.post.likedBy.find(function(t){return t.userId===e.$store.getters.loggedInUser._id})}},methods:{toggleComments:function(){this.showComments=!this.showComments},toggleLike:function(){var e=this,t=this.post.likedBy.findIndex(function(t){return t.userId===e.$store.getters.loggedInUser._id});-1===t?this.post.likedBy.unshift({userId:this.$store.getters.loggedInUser._id,username:this.$store.getters.loggedInUser.username}):this.post.likedBy.splice(t,1),this.$store.dispatch({type:"toggleLike",userId:this.$store.getters.loggedInUser._id,postId:this.post._id})},addComment:function(e){var t={at:Date.now(),_id:Math.random()+"",postId:this.post._id,txt:e,owner:{userId:this.$store.getters.loggedInUser._id,username:this.$store.getters.loggedInUser.username,profileImg:this.$store.getters.loggedInUser.url.profileImg},likedBy:[]};this.post.comments.push(t),this.$store.dispatch({type:"saveComment",comment:t})},toUserProfile:function(){this.$router.push("/user/".concat(this.post.user._id))},loadPost:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.postId,e.next=3,_e.getById(t);case 3:n=e.sent,this.post=n;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.loadPost()},watch:{"$route.params.postId":function(){this.loadPost()}}},js=ys,Cs=(n("c9c8"),Object(d["a"])(js,_s,ws,!1,null,"46f71641",null)),ks=Cs.exports;s["a"].use(de["a"]);var Is=new de["a"]({routes:[{path:"/",name:"HomePage",component:ds,children:[{path:"",component:bs},{path:"post/:postId",component:ks}]},{path:"/user/:userId",name:"UserProfile",component:os},{path:"/post/:postId",name:"NewsFeed",component:bs}]}),xs=n("bc3a"),$s=n.n(xs),Us="/",Os=$s.a.create({withCredentials:!0});function Ps(e){return Rs.apply(this,arguments)}function Rs(){return Rs=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n,s,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"get",s=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,e.prev=3,e.next=6,Os({url:"".concat(Us).concat(t),method:n,data:s,params:r});case 6:return i=e.sent,e.abrupt("return",i.data);case 10:throw e.prev=10,e.t0=e["catch"](3),401===e.t0.response.status&&Is.push("/"),e.t0;case 14:case"end":return e.stop()}},e,null,[[3,10]])})),Rs.apply(this,arguments)}var Ss={get:function(e,t){return Ps(e,"GET",null,t)},post:function(e,t){return Ps(e,"POST",t)},put:function(e,t){return Ps(e,"PUT",t)},delete:function(e,t){return Ps(e,"DELETE",t)}},Ls={login:As,logout:Ts,signup:Ns,getLoggedInUser:Fs,getUsers:Ws,getById:Hs,update:Ks,query:Ds},Es="loggedInUser11",Bs="undefined"===sessionStorage.getItem(Es)?null:JSON.parse(sessionStorage.getItem(Es));function Fs(){return Bs}function As(e){return qs.apply(this,arguments)}function qs(){return qs=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ss.post("api/auth/login",t);case 3:return n=e.sent,Bs=n,sessionStorage.setItem(Es,JSON.stringify(Bs)),e.abrupt("return",Bs);case 9:e.prev=9,e.t0=e["catch"](0),console.log("err");case 12:case"end":return e.stop()}},e,null,[[0,9]])})),qs.apply(this,arguments)}function Ns(e){return zs.apply(this,arguments)}function zs(){return zs=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.post("api/auth/signup",t));case 1:case"end":return e.stop()}},e)})),zs.apply(this,arguments)}function Ts(){Ss.post("api/auth/logout").then(function(e){console.log(e),Bs=null,sessionStorage.setItem(Es,null)})}function Ds(e){return Ms.apply(this,arguments)}function Ms(){return Ms=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.get("api/user",t));case 1:case"end":return e.stop()}},e)})),Ms.apply(this,arguments)}function Ws(){return Gs.apply(this,arguments)}function Gs(){return Gs=Object(pe["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.get("api/user"));case 1:case"end":return e.stop()}},e)})),Gs.apply(this,arguments)}function Hs(e){return Js.apply(this,arguments)}function Js(){return Js=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.get("api/user/".concat(t)));case 1:case"end":return e.stop()}},e)})),Js.apply(this,arguments)}function Ks(e){return Vs.apply(this,arguments)}function Vs(){return Vs=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ss.put("api/user/",t);case 2:return n=e.sent,Bs=n,sessionStorage.setItem(Es,JSON.stringify(Bs)),e.abrupt("return",Bs);case 6:case"end":return e.stop()}},e)})),Vs.apply(this,arguments)}var Ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-preview",on:{click:function(t){return e.$router.push("/user/"+e.user._id)}}},[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.user.url.profileImg,alt:""}}),n("a",{staticClass:"username"},[e._v(e._s(e.user.username))])]),n("div")])},Qs=[],Xs={props:["user"],methods:{}},Zs=Xs,er=(n("d188"),Object(d["a"])(Zs,Ys,Qs,!1,null,"1cc1d60a",null)),tr=er.exports,nr={components:{UserPreview:tr,MyLoader:at},data:function(){return{filterBy:{txt:"",limit:5},users:[],isLoading:!1}},methods:{onInput:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,Ls.query(this.filterBy);case 3:t=e.sent,this.users=t,Object(bt["setTimeout"])(function(){n.isLoading=!1},700);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clearInput:function(){this.filterBy.txt=""}}},sr=nr,rr=(n("6157"),Object(d["a"])(sr,ue,le,!1,null,"790daf02",null)),ir=rr.exports,or={components:{AppRegister:m,AppUpdates:ce,AppSearch:ir},computed:{loggedInUser:function(){return console.log(this.$store.getters.loggedInUser),this.$store.getters.loggedInUser}}},ar=or,cr=(n("3a70"),Object(d["a"])(ar,o,a,!1,null,"897fafde",null)),ur=cr.exports,lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-chat"},[n("div",{staticClass:"top",on:{click:e.toggleList}},[n("span",[e._v("Chat ("+e._s(e.users.length)+")")]),n("i",{staticClass:"far fa-edit",staticStyle:{"font-size":"16px"}})]),e.isShowList?n("contact-list",{attrs:{users:e.users}}):e._e()],1)},pr=[],dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"friendship-list"},e._l(e.users,function(e){return n("contact-preview",{key:e._id,attrs:{user:e}})}),1)},fr=[],mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contact-preview"},[n("div",{staticClass:"profile-image-container-thumb"},[n("img",{attrs:{src:e.user.url.profileImg,alt:""}}),e._v("\n    "+e._s(e.user.username)+"\n  ")]),e._m(0)])},hr=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{staticClass:"dot online"})])}],gr={props:["user"]},vr=gr,br=(n("065e"),Object(d["a"])(vr,mr,hr,!1,null,"6e4376be",null)),_r=br.exports,wr={props:["users"],components:{ContactPreview:_r}},yr=wr,jr=(n("f9e7"),Object(d["a"])(yr,dr,fr,!1,null,"1e11eb76",null)),Cr=jr.exports,kr={components:{ContactList:Cr},data:function(){return{isShowList:!1}},computed:{users:function(){return console.log("this.$store.getters.approvedUsers;",this.$store.getters.approvedUsers),this.$store.getters.approvedUsers}},methods:{toggleList:function(){this.isShowList=!this.isShowList}}},Ir=kr,xr=(n("f2ca"),Object(d["a"])(Ir,lr,pr,!1,null,"5c55d822",null)),$r=xr.exports,Ur={components:{AppHeader:ur,AppChat:$r},created:function(){this.$store.dispatch({type:"socketListener"})}},Or=Ur,Pr=(n("034f"),Object(d["a"])(Or,r,i,!1,null,null,null)),Rr=Pr.exports,Sr=n("2f62"),Lr=n("8055"),Er=n.n(Lr);console.log("Socket service");var Br="",Fr=Er()(Br),Ar={on:qr,emit:Nr};function qr(e,t){Fr.on(e,t)}function Nr(e,t){Fr.emit(e,t)}var zr={state:{loggedInUser:Ls.getLoggedInUser()},getters:{loggedInUser:function(e){return e.loggedInUser}},mutations:{setUser:function(e,t){var n=t.user;e.loggedInUser=n}},actions:{login:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=n.credentials,e.next=3,Ls.login(s);case 3:r=e.sent,t.commit({type:"setUser",user:r}),Ar.emit("user login",t.state.loggedInUser._id);case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),signup:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=n.credentials,e.prev=1,e.next=4,Ls.signup(s);case 4:t.dispatch({type:"login",credentials:s}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log("ERROR: cant login");case 10:case"end":return e.stop()}},e,null,[[1,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ls.logout();case 3:t.commit({type:"setUser",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),saveUser:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=n.user,console.log(s,"UESER"),e.prev=2,e.next=5,Ls.update(s);case 5:r=e.sent,t.commit({type:"setUser",user:r}),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](2),e.t0;case 12:case"end":return e.stop()}},e,null,[[2,9]])}));function t(t,n){return e.apply(this,arguments)}return t}()}},Tr={state:{posts:[]},getters:{posts:function(e){return e.posts}},mutations:{setPosts:function(e,t){var n=t.posts;e.posts=n},save:function(e,t){var n=t.post;e.posts.unshift(n)},toggleLike:function(e,t){var n=t.postId,s=t.loggedInUser,r=s._id,i=s.username,o=e.posts.find(function(e){return e._id===n});if(o){var a=o.likedBy.findIndex(function(e){return e.userId===r});-1===a?o.likedBy.unshift({userId:r,username:i}):o.likedBy.splice(a,1)}},saveComment:function(e,t){var n=t.comment,s=e.posts.find(function(e){return e._id===n.postId});if(s){var r=s.comments.findIndex(function(e){return e._id===n._id});r>=0?s.comments.splice(r,1,n):s.comments.push(n)}}},actions:{loadPosts:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=n.filterBy,r=void 0===s?{}:s,r.user2Id=Is.app._route.params.userId,console.log("filterBy",r),e.next=5,_e.query(r);case 5:i=e.sent,t.commit({type:"setPosts",posts:i});case 7:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),addPost:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=n.post,e.next=3,_e.save(s);case 3:e.sent,t.dispatch({type:"loadPosts"});case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),toggleLike:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s,r,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,r=t.getters,n.userId,i=n.postId,o=r.loggedInUser,e.next=5,_e.toggleLike({postId:i,loggedInUser:o});case 5:s("toggleLike",{postId:i,loggedInUser:o});case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),saveComment:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=n.comment,e.next=3,_e.saveComment(s);case 3:r=e.sent,console.log(r),t.commit({type:"saveComment",comment:r});case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}},Dr={query:Jr,add:Mr,save:Gr};function Mr(e){return Wr.apply(this,arguments)}function Wr(){return Wr=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.post("api/friendship",t));case 1:case"end":return e.stop()}},e)})),Wr.apply(this,arguments)}function Gr(e){return Hr.apply(this,arguments)}function Hr(){return Hr=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.post("api/friendship",t));case 1:case"end":return e.stop()}},e)})),Hr.apply(this,arguments)}function Jr(e){return Kr.apply(this,arguments)}function Kr(){return Kr=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.get("api/friendship/",t));case 1:case"end":return e.stop()}},e)})),Kr.apply(this,arguments)}n("3e8f");var Vr={state:{suggests:[],friendshipUsers:[]},getters:{suggests:function(e,t){return e.suggests.filter(function(e){return!e.friendship&&e._id!==t.loggedInUser._id})},requestingUsers:function(e){return e.friendshipUsers.filter(function(e){return console.log(e.friendship.isApproved,e.friendship.user1Id===e._id),!e.friendship.isApproved&&e.friendship.user1Id===e._id})},approvedUsers:function(e){return e.friendshipUsers.filter(function(e){return e.friendship.isApproved})}},mutations:{setSuggests:function(e,t){var n=t.suggests;e.suggests=n},setFriendshipUsers:function(e,t){var n=t.friendshipUsers;e.friendshipUsers=n},saveUserFriendship:function(e,t){t.user}},actions:{saveFriendship:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=n.friendship,console.log("user store",s),e.next=4,Dr.save(s);case 4:r=e.sent,console.log("savedFriendship",r);case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),loadFriendshipUsers:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={isFriendship:!0},e.next=3,Ls.query(n);case 3:s=e.sent,console.log("friendshipUsers",s),t.commit({type:"setFriendshipUsers",friendshipUsers:s});case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),loadSuggests:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t,n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.fiterBy,e.next=3,Ls.query();case 3:s=e.sent,console.log("suggests",s),t.commit({type:"setSuggests",suggests:s});case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}},Yr={query:Qr,setAllSeen:Zr};function Qr(){return Xr.apply(this,arguments)}function Xr(){return Xr=Object(pe["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.get("api/notification"));case 1:case"end":return e.stop()}},e)})),Xr.apply(this,arguments)}function Zr(){return ei.apply(this,arguments)}function ei(){return ei=Object(pe["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss.put("api/notification/seen"));case 1:case"end":return e.stop()}},e)})),ei.apply(this,arguments)}var ti={state:{notifications:[]},getters:{notifications:function(e){return e.notifications},unSeenNotifications:function(e){return e.notifications.filter(function(e){return!e.isSeen})}},mutations:{setNotifications:function(e,t){var n=t.notifications;e.notifications=n},setAllSeen:function(e){e.notifications.forEach(function(e){return e.isSeen=!0})}},actions:{loadNotifications:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Yr.query();case 2:n=e.sent,t.commit({type:"setNotifications",notifications:n});case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setAllSeen:function(){var e=Object(pe["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"setAllSeen"}),e.next=3,Yr.setAllSeen();case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}},ni={state:{chats:[],msgs:[{from:"Avi",txt:"Rollaa"},{from:"Kobi",txt:"bolla"}]},getters:{msgs:function(e){return e.msgs}},mutations:{addMsg:function(e,t){var n=t.msg;e.msgs.push(n)}},actions:{chatJoin:function(e,t){t.userId},sendMsg:function(e,t){var n=t.msg,s=t.roomId;Ar.emit("chat msg",n,s)}}},si={state:{},getters:{},mutations:{},actions:{socketListener:function(e){console.log("LISTEN TO SOCKET"),Ar.emit("user login",this.getters.loggedInUser._id),Ar.on("new notification",function(t){e.dispatch({type:"loadNotifications"})}),Ar.on("new friendship",function(){console.log("SOCKET FRIENDSHIP!"),e.dispatch({type:"loadFriendshipUsers"})})}}};s["a"].use(Sr["a"]);var ri=new Sr["a"].Store({state:{},mutations:{},actions:{},modules:{UserStore:zr,PostStore:Tr,FriendshipStore:Vr,NotificationStore:ti,ChatStore:ni,SocketStore:si}}),ii=(n("28a5"),n("c1df")),oi=n.n(ii);s["a"].filter("formatNum",function(e){return e.toLocaleString()}),s["a"].filter("timeAgo",function(e){return oi()(e).fromNow()}),s["a"].filter("fUsername",function(e){e=e.toLowerCase();var t=e.split(" ");return t.map(function(e){return e[0].toUpperCase()+e.slice(1,e.length)}).join(" ")});var ai=n("9483");Object(ai["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),s["a"].config.productionTip=!1,new s["a"]({router:Is,store:ri,render:function(e){return e(Rr)}}).$mount("#app")},"5d6a":function(e,t,n){"use strict";var s=n("f09e"),r=n.n(s);r.a},"5ef5":function(e,t,n){},6157:function(e,t,n){"use strict";var s=n("7e42"),r=n.n(s);r.a},"64a9":function(e,t,n){},"67f4":function(e,t,n){},6964:function(e,t,n){},"6a17":function(e,t,n){"use strict";var s=n("67f4"),r=n.n(s);r.a},"6b41":function(e,t,n){"use strict";var s=n("963e"),r=n.n(s);r.a},"755c":function(e,t,n){"use strict";var s=n("7a6c"),r=n.n(s);r.a},"7a6c":function(e,t,n){},"7e42":function(e,t,n){},"7f86":function(e,t,n){},8234:function(e,t,n){"use strict";var s=n("d20f"),r=n.n(s);r.a},"831c":function(e,t,n){"use strict";var s=n("bb04"),r=n.n(s);r.a},8674:function(e,t,n){"use strict";var s=n("95f2"),r=n.n(s);r.a},8735:function(e,t,n){},"87aa":function(e,t,n){"use strict";var s=n("13ed"),r=n.n(s);r.a},8901:function(e,t,n){"use strict";var s=n("3c08"),r=n.n(s);r.a},"8dc8":function(e,t,n){"use strict";var s=n("4433"),r=n.n(s);r.a},"8e44":function(e,t,n){e.exports=n.p+"img/like.7abf9b4e.png"},"93a9":function(e,t,n){},"95d3":function(e,t,n){},"95f2":function(e,t,n){},"963e":function(e,t,n){},"96f0":function(e,t,n){"use strict";var s=n("ec2a"),r=n.n(s);r.a},"9f2e":function(e,t,n){},"9f55":function(e,t,n){},a1c7:function(e,t,n){},a2ae:function(e,t,n){"use strict";var s=n("9f55"),r=n.n(s);r.a},ad52:function(e,t,n){},ae34:function(e,t,n){"use strict";var s=n("a1c7"),r=n.n(s);r.a},ae65:function(e,t,n){"use strict";var s=n("7f86"),r=n.n(s);r.a},b440:function(e,t,n){"use strict";var s=n("f7c2"),r=n.n(s);r.a},bb04:function(e,t,n){},bee0:function(e,t,n){},bfc3:function(e,t,n){"use strict";var s=n("d321"),r=n.n(s);r.a},c9c8:function(e,t,n){"use strict";var s=n("fb5e"),r=n.n(s);r.a},d188:function(e,t,n){"use strict";var s=n("2616"),r=n.n(s);r.a},d20f:function(e,t,n){},d321:function(e,t,n){},d5a1:function(e,t,n){"use strict";var s=n("8735"),r=n.n(s);r.a},dc14:function(e,t,n){"use strict";var s=n("5ef5"),r=n.n(s);r.a},e096:function(e,t,n){},e429:function(e,t,n){e.exports=n.p+"img/image.b651739e.png"},e91b:function(e,t,n){"use strict";var s=n("ad52"),r=n.n(s);r.a},ec2a:function(e,t,n){},f09e:function(e,t,n){},f2ca:function(e,t,n){"use strict";var s=n("95d3"),r=n.n(s);r.a},f7c2:function(e,t,n){},f9e7:function(e,t,n){"use strict";var s=n("27d2"),r=n.n(s);r.a},fa01:function(e,t,n){},fb5e:function(e,t,n){},fe4e:function(e,t,n){}});
//# sourceMappingURL=app.bd1130ca.js.map